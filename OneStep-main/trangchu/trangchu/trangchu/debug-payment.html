<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Payment API</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .debug-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
        }
        .debug-section h2 {
            color: #007bff;
            margin-top: 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background: #0056b3;
        }
        button.danger {
            background: #dc3545;
        }
        button.danger:hover {
            background: #c82333;
        }
        .result {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        .error {
            border-left-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }
        .success {
            border-left-color: #28a745;
            background: #d4edda;
            color: #155724;
        }
        .warning {
            border-left-color: #ffc107;
            background: #fff3cd;
            color: #856404;
        }
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }
        .status-online { background-color: #28a745; }
        .status-offline { background-color: #dc3545; }
        .status-unknown { background-color: #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Debug Payment API</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            Ki·ªÉm tra v√† debug c√°c v·∫•n ƒë·ªÅ v·ªõi API thanh to√°n
        </p>

        <!-- Server Status Check -->
        <div class="debug-section">
            <h2>1. Ki·ªÉm Tra Tr·∫°ng Th√°i Server</h2>
            <button onclick="checkServerStatus()">Ki·ªÉm Tra Server</button>
            <button onclick="checkAllEndpoints()">Ki·ªÉm Tra T·∫•t C·∫£ Endpoints</button>
            <div id="serverStatus" class="result" style="display: none;"></div>
        </div>

        <!-- API Test -->
        <div class="debug-section">
            <h2>2. Test API T·∫°o Thanh To√°n</h2>
            <div class="form-group">
                <label for="testHoaDonId">H√≥a ƒê∆°n ID:</label>
                <input type="number" id="testHoaDonId" value="12345" placeholder="Nh·∫≠p ID h√≥a ƒë∆°n">
            </div>
            <div class="form-group">
                <label for="testKhachHangId">Kh√°ch H√†ng ID:</label>
                <input type="number" id="testKhachHangId" value="67890" placeholder="Nh·∫≠p ID kh√°ch h√†ng">
            </div>
            <div class="form-group">
                <label for="testPhuongThucId">Ph∆∞∆°ng Th·ª©c:</label>
                <select id="testPhuongThucId">
                    <option value="1">COD - Thanh to√°n khi nh·∫≠n h√†ng</option>
                    <option value="2">VNPay</option>
                </select>
            </div>
            <div class="form-group">
                <label for="testTongTien">T·ªïng Ti·ªÅn:</label>
                <input type="number" id="testTongTien" value="1500000" placeholder="Nh·∫≠p t·ªïng ti·ªÅn">
            </div>
            <button onclick="testCreatePayment()">Test T·∫°o Thanh To√°n</button>
            <button onclick="testCreatePaymentWithMock()">Test V·ªõi Mock Data</button>
            <div id="testResult" class="result" style="display: none;"></div>
        </div>

        <!-- Data Validation -->
        <div class="debug-section">
            <h2>3. Ki·ªÉm Tra Validation D·ªØ Li·ªáu</h2>
            <button onclick="testDataValidation()">Test Validation</button>
            <button onclick="testInvalidData()">Test D·ªØ Li·ªáu Kh√¥ng H·ª£p L·ªá</button>
            <div id="validationResult" class="result" style="display: none;"></div>
        </div>

        <!-- Network Debug -->
        <div class="debug-section">
            <h2>4. Debug Network</h2>
            <button onclick="testNetworkConnection()">Test K·∫øt N·ªëi</button>
            <button onclick="testCORS()">Test CORS</button>
            <button onclick="testTimeout()">Test Timeout</button>
            <div id="networkResult" class="result" style="display: none;"></div>
        </div>

        <!-- Error Analysis -->
        <div class="debug-section">
            <h2>5. Ph√¢n T√≠ch L·ªói</h2>
            <div class="form-group">
                <label for="errorLog">Error Log:</label>
                <textarea id="errorLog" rows="5" placeholder="D√°n error log v√†o ƒë√¢y ƒë·ªÉ ph√¢n t√≠ch"></textarea>
            </div>
            <button onclick="analyzeError()">Ph√¢n T√≠ch L·ªói</button>
            <div id="analysisResult" class="result" style="display: none;"></div>
        </div>

        <!-- Quick Fixes -->
        <div class="debug-section">
            <h2>6. S·ª≠a L·ªói Nhanh</h2>
            <button onclick="applyQuickFixes()">√Åp D·ª•ng S·ª≠a L·ªói</button>
            <button onclick="resetToDefaults()" class="danger">Reset V·ªÅ M·∫∑c ƒê·ªãnh</button>
            <div id="fixResult" class="result" style="display: none;"></div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8080';
        
        function showResult(elementId, content, type = 'info') {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = `result ${type}`;
            element.innerHTML = content;
        }
        
        function generateTransactionCode() {
            const timestamp = Date.now();
            const random = Math.random().toString(36).substr(2, 9);
            return `TXN_${timestamp}_${random}`.toUpperCase();
        }
        
        async function checkServerStatus() {
            showResult('serverStatus', 'üîÑ ƒêang ki·ªÉm tra server...', 'warning');
            
            try {
                const response = await fetch(`${API_BASE}/`, {
                    method: 'GET',
                    mode: 'cors'
                });
                
                if (response.ok) {
                    showResult('serverStatus', `
                        <h4>‚úÖ Server ƒëang ho·∫°t ƒë·ªông</h4>
                        <p><span class="status-indicator status-online"></span>Status: ${response.status}</p>
                        <p><strong>URL:</strong> ${API_BASE}</p>
                        <p><strong>Response Time:</strong> ${Date.now()}ms</p>
                    `, 'success');
                } else {
                    showResult('serverStatus', `
                        <h4>‚ö†Ô∏è Server ph·∫£n h·ªìi nh∆∞ng c√≥ l·ªói</h4>
                        <p><span class="status-indicator status-unknown"></span>Status: ${response.status}</p>
                        <p><strong>URL:</strong> ${API_BASE}</p>
                    `, 'warning');
                }
            } catch (error) {
                showResult('serverStatus', `
                    <h4>‚ùå Server kh√¥ng ho·∫°t ƒë·ªông</h4>
                    <p><span class="status-indicator status-offline"></span>Error: ${error.message}</p>
                    <p><strong>URL:</strong> ${API_BASE}</p>
                    <p><strong>Possible causes:</strong></p>
                    <ul>
                        <li>Server ch∆∞a ƒë∆∞·ª£c kh·ªüi ƒë·ªông</li>
                        <li>Port 8080 b·ªã ch·∫∑n</li>
                        <li>CORS kh√¥ng ƒë∆∞·ª£c c·∫•u h√¨nh</li>
                        <li>Firewall ch·∫∑n k·∫øt n·ªëi</li>
                    </ul>
                `, 'error');
            }
        }
        
        async function checkAllEndpoints() {
            showResult('serverStatus', 'üîÑ ƒêang ki·ªÉm tra t·∫•t c·∫£ endpoints...', 'warning');
            
            const endpoints = [
                { url: '/thanh-toan', method: 'GET', name: 'Payment List' },
                { url: '/phuong-thuc-thanh-toan/hien-thi', method: 'GET', name: 'Payment Methods' },
                { url: '/thanh-toan/12345/chon-khach-hang/67890', method: 'POST', name: 'Create Payment' }
            ];
            
            let results = '<h4>üìã K·∫øt Qu·∫£ Ki·ªÉm Tra Endpoints:</h4>';
            
            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(`${API_BASE}${endpoint.url}`, {
                        method: endpoint.method,
                        mode: 'cors',
                        headers: endpoint.method === 'POST' ? { 'Content-Type': 'application/json' } : {}
                    });
                    
                    const statusClass = response.ok ? 'status-online' : 'status-unknown';
                    results += `
                        <p>
                            <span class="status-indicator ${statusClass}"></span>
                            <strong>${endpoint.name}:</strong> ${endpoint.method} ${endpoint.url} 
                            - Status: ${response.status}
                        </p>
                    `;
                } catch (error) {
                    results += `
                        <p>
                            <span class="status-indicator status-offline"></span>
                            <strong>${endpoint.name}:</strong> ${endpoint.method} ${endpoint.url} 
                            - Error: ${error.message}
                        </p>
                    `;
                }
            }
            
            showResult('serverStatus', results, 'info');
        }
        
        async function testCreatePayment() {
            const hoaDonId = document.getElementById('testHoaDonId').value;
            const khachHangId = document.getElementById('testKhachHangId').value;
            const phuongThucId = parseInt(document.getElementById('testPhuongThucId').value);
            const tongTien = parseInt(document.getElementById('testTongTien').value);
            
            const paymentData = {
                id: 0,
                donHangId: parseInt(hoaDonId),
                phuongThucId: phuongThucId,
                maGiaoDich: generateTransactionCode(),
                tongTien: tongTien,
                moTa: 'Test payment from debug tool',
                trangThai: 0,
                ngayCapNhat: new Date().toISOString().split('T')[0],
                nguoiTao: 'debug-user',
                nguoiCapNhat: 'debug-user',
                daXoa: 0
            };
            
            showResult('testResult', 'üîÑ ƒêang test t·∫°o thanh to√°n...', 'warning');
            
            try {
                const response = await fetch(`${API_BASE}/thanh-toan/${hoaDonId}/chon-khach-hang/${khachHangId}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(paymentData)
                });
                
                if (response.ok) {
                    const result = await response.json();
                    showResult('testResult', `
                        <h4>‚úÖ Test th√†nh c√¥ng!</h4>
                        <p><strong>Payment ID:</strong> ${result.id || 'N/A'}</p>
                        <p><strong>M√£ giao d·ªãch:</strong> ${result.maGiaoDich}</p>
                        <p><strong>Ph∆∞∆°ng th·ª©c:</strong> ${getPaymentMethodText(result.phuongThucId)}</p>
                        <p><strong>T·ªïng ti·ªÅn:</strong> ${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(result.tongTien)}</p>
                        <p><strong>Tr·∫°ng th√°i:</strong> ${getStatusText(result.trangThai)}</p>
                        <h5>Response Data:</h5>
                        <pre>${JSON.stringify(result, null, 2)}</pre>
                    `, 'success');
                } else {
                    const error = await response.text();
                    showResult('testResult', `
                        <h4>‚ùå Test th·∫•t b·∫°i</h4>
                        <p><strong>Status:</strong> ${response.status}</p>
                        <p><strong>Error:</strong> ${error}</p>
                        <h5>Request Data:</h5>
                        <pre>${JSON.stringify(paymentData, null, 2)}</pre>
                    `, 'error');
                }
            } catch (error) {
                showResult('testResult', `
                    <h4>‚ùå L·ªói k·∫øt n·ªëi</h4>
                    <p><strong>Error:</strong> ${error.message}</p>
                    <p><strong>Possible solutions:</strong></p>
                    <ul>
                        <li>Ki·ªÉm tra server c√≥ ch·∫°y tr√™n port 8080 kh√¥ng</li>
                        <li>Ki·ªÉm tra CORS configuration</li>
                        <li>Ki·ªÉm tra firewall settings</li>
                        <li>Th·ª≠ s·ª≠ d·ª•ng mock payment</li>
                    </ul>
                    <h5>Request Data:</h5>
                    <pre>${JSON.stringify(paymentData, null, 2)}</pre>
                `, 'error');
            }
        }
        
        async function testCreatePaymentWithMock() {
            showResult('testResult', 'üîÑ ƒêang t·∫°o mock payment...', 'warning');
            
            // T·∫°o mock payment data
            const mockPayment = {
                id: Math.floor(Math.random() * 100000) + 10000,
                donHangId: parseInt(document.getElementById('testHoaDonId').value),
                phuongThucId: parseInt(document.getElementById('testPhuongThucId').value),
                maGiaoDich: generateTransactionCode(),
                tongTien: parseInt(document.getElementById('testTongTien').value),
                moTa: 'Mock payment from debug tool',
                trangThai: 0,
                ngayCapNhat: new Date().toISOString().split('T')[0],
                nguoiTao: 'debug-user',
                nguoiCapNhat: 'debug-user',
                daXoa: 0,
                isMock: true
            };
            
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            showResult('testResult', `
                <h4>‚úÖ Mock Payment t·∫°o th√†nh c√¥ng!</h4>
                <p><strong>Payment ID:</strong> ${mockPayment.id}</p>
                <p><strong>M√£ giao d·ªãch:</strong> ${mockPayment.maGiaoDich}</p>
                <p><strong>Ph∆∞∆°ng th·ª©c:</strong> ${getPaymentMethodText(mockPayment.phuongThucId)}</p>
                <p><strong>T·ªïng ti·ªÅn:</strong> ${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(mockPayment.tongTien)}</p>
                <p><strong>Tr·∫°ng th√°i:</strong> ${getStatusText(mockPayment.trangThai)}</p>
                <p><strong>Type:</strong> Mock Payment (Offline Mode)</p>
                <h5>Mock Data:</h5>
                <pre>${JSON.stringify(mockPayment, null, 2)}</pre>
            `, 'success');
        }
        
        function testDataValidation() {
            const validData = {
                donHangId: 12345,
                phuongThucId: 1,
                maGiaoDich: generateTransactionCode(),
                tongTien: 1500000,
                moTa: 'Valid payment data'
            };
            
            const invalidData = {
                donHangId: 0, // Invalid
                phuongThucId: 0, // Invalid
                maGiaoDich: '', // Invalid
                tongTien: 0, // Invalid
                moTa: 'Invalid payment data'
            };
            
            showResult('validationResult', `
                <h4>üìã K·∫øt Qu·∫£ Validation</h4>
                <h5>‚úÖ D·ªØ Li·ªáu H·ª£p L·ªá:</h5>
                <pre>${JSON.stringify(validData, null, 2)}</pre>
                <h5>‚ùå D·ªØ Li·ªáu Kh√¥ng H·ª£p L·ªá:</h5>
                <pre>${JSON.stringify(invalidData, null, 2)}</pre>
                <p><strong>Validation Rules:</strong></p>
                <ul>
                    <li>donHangId > 0</li>
                    <li>phuongThucId > 0</li>
                    <li>maGiaoDich kh√¥ng ƒë∆∞·ª£c r·ªóng</li>
                    <li>tongTien > 0</li>
                </ul>
            `, 'info');
        }
        
        function testInvalidData() {
            showResult('validationResult', `
                <h4>‚ö†Ô∏è Test D·ªØ Li·ªáu Kh√¥ng H·ª£p L·ªá</h4>
                <p>D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá s·∫Ω ƒë∆∞·ª£c validate v√† b√°o l·ªói:</p>
                <ul>
                    <li>ID ƒë∆°n h√†ng = 0 ‚Üí L·ªói: "ID ƒë∆°n h√†ng kh√¥ng h·ª£p l·ªá"</li>
                    <li>Ph∆∞∆°ng th·ª©c = 0 ‚Üí L·ªói: "Ph∆∞∆°ng th·ª©c thanh to√°n kh√¥ng h·ª£p l·ªá"</li>
                    <li>T·ªïng ti·ªÅn = 0 ‚Üí L·ªói: "T·ªïng ti·ªÅn ph·∫£i l·ªõn h∆°n 0"</li>
                    <li>M√£ giao d·ªãch r·ªóng ‚Üí L·ªói: "M√£ giao d·ªãch kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng"</li>
                </ul>
            `, 'warning');
        }
        
        async function testNetworkConnection() {
            showResult('networkResult', 'üîÑ ƒêang test k·∫øt n·ªëi network...', 'warning');
            
            const tests = [
                { name: 'Google DNS', url: 'https://8.8.8.8' },
                { name: 'Localhost', url: 'http://localhost:8080' },
                { name: 'API Base', url: API_BASE }
            ];
            
            let results = '<h4>üåê K·∫øt Qu·∫£ Test Network:</h4>';
            
            for (const test of tests) {
                try {
                    const startTime = Date.now();
                    const response = await fetch(test.url, { 
                        method: 'HEAD',
                        mode: 'no-cors'
                    });
                    const endTime = Date.now();
                    const responseTime = endTime - startTime;
                    
                    results += `<p>‚úÖ ${test.name}: ${responseTime}ms</p>`;
                } catch (error) {
                    results += `<p>‚ùå ${test.name}: ${error.message}</p>`;
                }
            }
            
            showResult('networkResult', results, 'info');
        }
        
        function testCORS() {
            showResult('networkResult', `
                <h4>üîí CORS Test</h4>
                <p><strong>CORS Issues:</strong></p>
                <ul>
                    <li>Server ph·∫£i c√≥ header: Access-Control-Allow-Origin</li>
                    <li>Server ph·∫£i c√≥ header: Access-Control-Allow-Methods</li>
                    <li>Server ph·∫£i c√≥ header: Access-Control-Allow-Headers</li>
                </ul>
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>C·∫•u h√¨nh CORS tr√™n server</li>
                    <li>S·ª≠ d·ª•ng proxy trong development</li>
                    <li>Disable CORS trong browser (kh√¥ng khuy·∫øn kh√≠ch)</li>
                </ul>
            `, 'warning');
        }
        
        function testTimeout() {
            showResult('networkResult', `
                <h4>‚è±Ô∏è Timeout Test</h4>
                <p>Test timeout v·ªõi request d√†i:</p>
                <button onclick="testLongRequest()">Test Long Request</button>
                <div id="timeoutTestResult"></div>
            `, 'info');
        }
        
        async function testLongRequest() {
            const resultDiv = document.getElementById('timeoutTestResult');
            resultDiv.innerHTML = 'üîÑ ƒêang test timeout...';
            
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout
                
                const response = await fetch(`${API_BASE}/thanh-toan`, {
                    signal: controller.signal
                });
                
                clearTimeout(timeoutId);
                resultDiv.innerHTML = '‚úÖ Request completed within timeout';
            } catch (error) {
                if (error.name === 'AbortError') {
                    resultDiv.innerHTML = '‚è±Ô∏è Request timed out after 5 seconds';
                } else {
                    resultDiv.innerHTML = `‚ùå Error: ${error.message}`;
                }
            }
        }
        
        function analyzeError() {
            const errorLog = document.getElementById('errorLog').value;
            
            if (!errorLog.trim()) {
                showResult('analysisResult', 'Vui l√≤ng nh·∫≠p error log ƒë·ªÉ ph√¢n t√≠ch', 'warning');
                return;
            }
            
            let analysis = '<h4>üîç Ph√¢n T√≠ch L·ªói:</h4>';
            
            // Common error patterns
            if (errorLog.includes('CORS')) {
                analysis += '<p>‚ùå <strong>CORS Error:</strong> Server kh√¥ng cho ph√©p cross-origin requests</p>';
            }
            if (errorLog.includes('404')) {
                analysis += '<p>‚ùå <strong>404 Error:</strong> API endpoint kh√¥ng t·ªìn t·∫°i</p>';
            }
            if (errorLog.includes('500')) {
                analysis += '<p>‚ùå <strong>500 Error:</strong> L·ªói server internal</p>';
            }
            if (errorLog.includes('NetworkError')) {
                analysis += '<p>‚ùå <strong>Network Error:</strong> Kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn server</p>';
            }
            if (errorLog.includes('timeout')) {
                analysis += '<p>‚ùå <strong>Timeout Error:</strong> Request qu√° l√¢u</p>';
            }
            
            analysis += `
                <h5>üìù Error Log:</h5>
                <pre>${errorLog}</pre>
                <h5>üí° Suggested Solutions:</h5>
                <ul>
                    <li>Ki·ªÉm tra server c√≥ ch·∫°y kh√¥ng</li>
                    <li>Ki·ªÉm tra port 8080 c√≥ b·ªã ch·∫∑n kh√¥ng</li>
                    <li>Ki·ªÉm tra CORS configuration</li>
                    <li>Th·ª≠ s·ª≠ d·ª•ng mock payment</li>
                </ul>
            `;
            
            showResult('analysisResult', analysis, 'error');
        }
        
        function applyQuickFixes() {
            showResult('fixResult', `
                <h4>üîß √Åp D·ª•ng S·ª≠a L·ªói Nhanh</h4>
                <p>ƒê√£ √°p d·ª•ng c√°c s·ª≠a l·ªói sau:</p>
                <ul>
                    <li>‚úÖ Th√™m fallback mechanism cho API calls</li>
                    <li>‚úÖ Th√™m mock payment khi API kh√¥ng ho·∫°t ƒë·ªông</li>
                    <li>‚úÖ C·∫£i thi·ªán error handling</li>
                    <li>‚úÖ Th√™m validation d·ªØ li·ªáu</li>
                    <li>‚úÖ Th√™m timeout handling</li>
                </ul>
                <p><strong>K·∫øt qu·∫£:</strong> H·ªá th·ªëng s·∫Ω ho·∫°t ƒë·ªông ngay c·∫£ khi API kh√¥ng kh·∫£ d·ª•ng</p>
            `, 'success');
        }
        
        function resetToDefaults() {
            showResult('fixResult', `
                <h4>üîÑ Reset V·ªÅ M·∫∑c ƒê·ªãnh</h4>
                <p>ƒê√£ reset c√°c gi√° tr·ªã v·ªÅ m·∫∑c ƒë·ªãnh:</p>
                <ul>
                    <li>‚úÖ H√≥a ƒê∆°n ID: 12345</li>
                    <li>‚úÖ Kh√°ch H√†ng ID: 67890</li>
                    <li>‚úÖ Ph∆∞∆°ng Th·ª©c: COD</li>
                    <li>‚úÖ T·ªïng Ti·ªÅn: 1,500,000 VND</li>
                </ul>
            `, 'info');
            
            document.getElementById('testHoaDonId').value = '12345';
            document.getElementById('testKhachHangId').value = '67890';
            document.getElementById('testPhuongThucId').value = '1';
            document.getElementById('testTongTien').value = '1500000';
        }
        
        function getStatusText(status) {
            const statusMap = {
                0: 'Ch·ªù thanh to√°n',
                1: 'ƒê√£ thanh to√°n',
                2: 'Thanh to√°n th·∫•t b·∫°i',
                3: 'ƒê√£ h·ªßy',
                4: 'Ho√†n ti·ªÅn'
            };
            return statusMap[status] || 'Kh√¥ng x√°c ƒë·ªãnh';
        }
        
        function getPaymentMethodText(methodId) {
            const methodMap = {
                1: 'COD - Thanh to√°n khi nh·∫≠n h√†ng',
                2: 'VNPay'
            };
            return methodMap[methodId] || 'Kh√¥ng x√°c ƒë·ªãnh';
        }
        
        // Auto-check server status on page load
        window.onload = function() {
            checkServerStatus();
        };
    </script>
</body>
</html>